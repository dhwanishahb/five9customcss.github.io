!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AdaWidgetSDK=t():e.AdaWidgetSDK=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}},,function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(e,Error)}}function o(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function i(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function u(e){return"[object Object]"===Object.prototype.toString.call(e)}function f(e){return"undefined"!=typeof Event&&v(e,Event)}function l(e){return"undefined"!=typeof Element&&v(e,Element)}function p(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function d(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e){return u(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"k",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"m",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"g",(function(){return v}))},function(e,t,n){"use strict";(function(e,r,o){n.d(t,"i",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"k",(function(){return f})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return g})),n.d(t,"l",(function(){return E})),n.d(t,"j",(function(){return O})),n.d(t,"e",(function(){return x}));var i=n(2);n(5);function a(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}var s={};function c(){return a()?r:"undefined"!=typeof window?window:"undefined"!=typeof self?self:s}function u(){var e=c(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function f(e){if(!e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function l(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function p(e){var t=c();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)}));var o=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),o}function d(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function h(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(e){}}function v(){try{return document.location.href}catch(e){return""}}function g(e){try{for(var t=e,n=[],r=0,o=0,i=" > ".length,a=void 0;t&&r++<5&&!("html"===(a=y(t))||r>1&&o+n.length*i+a.length>=80);)n.push(a),o+=a.length,t=t.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function y(e){var t,n,r,o,a,s=e,c=[];if(!s||!s.tagName)return"";if(c.push(s.tagName.toLowerCase()),s.id&&c.push("#"+s.id),(t=s.className)&&Object(i.k)(t))for(n=t.split(/\s+/),a=0;a<n.length;a++)c.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)r=u[a],(o=s.getAttribute(r))&&c.push("["+r+'="'+o+'"]');return c.join("")}var m=Date.now(),b=0,_={now:function(){var e=Date.now()-m;return e<b&&(e=b),b=e,e},timeOrigin:m},w=function(){if(a())try{return(e="perf_hooks",o.require(e)).performance}catch(e){return _}var e;return c().performance&&void 0===performance.timeOrigin&&(performance.timeOrigin=performance.timing&&performance.timing.navigationStart||m),c().performance||_}();function E(){return(w.timeOrigin+w.now())/1e3}function O(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}function x(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}}).call(this,n(12),n(9),n(13)(e))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return v}));n(0);var r=n(2),o=n(10),i=n(3),a=n(5);function s(e,t,n){if(t in e){var r=e[t],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(e){}e[t]=o}}function c(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function u(e){if(Object(r.d)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}if(Object(r.f)(e)){var a=e,s={};s.type=a.type;try{s.target=Object(r.c)(a.target)?Object(i.h)(a.target):Object.prototype.toString.call(a.target)}catch(e){s.target="<unknown>"}try{s.currentTarget=Object(r.c)(a.currentTarget)?Object(i.h)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(e){s.currentTarget="<unknown>"}for(var o in"undefined"!=typeof CustomEvent&&Object(r.g)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a);return s}return e}function f(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function l(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=h(e,t);return f(r)>n?l(e,t-1,n):r}function p(t,n){return"domain"===n&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==e&&t===e?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(r.l)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Object(i.e)(t)+"]":t}function d(e,t,n,i){if(void 0===n&&(n=1/0),void 0===i&&(i=new o.a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=p(e);return Object(r.i)(n)?n:t}(t);if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var a=p(t,e);if(Object(r.i)(a))return a;var s=u(t),c=Array.isArray(t)?[]:{};if(i.memoize(t))return"[Circular ~]";for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(c[f]=d(f,s[f],n-1,i));return i.unmemoize(t),c}function h(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return d(e,n,t)})))}catch(e){return"**non-serializable**"}}function v(e,t){void 0===t&&(t=40);var n=Object.keys(u(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(a.d)(n[0],t);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:Object(a.d)(o,t)}return""}}).call(this,n(9))},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(2);function o(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function i(e,t){var n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);var o=Math.max(t-60,0);o<5&&(o=0);var i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n="'{snip} "+n),i<r&&(n+=" {snip}"),n}function a(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var o=e[r];try{n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t){return!!Object(r.k)(e)&&(Object(r.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},,,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}()},function(e,t,n){e.exports=n(14)},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!f){var e=s(p);f=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||f||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"SEND_USER_DATA_FAILED",(function(){return pr})),n.d(t,"SEND_USER_DATA_SUCCESS",(function(){return dr})),n.d(t,"AdaWidgetSDKError",(function(){return hr})),n.d(t,"parseQueryParams",(function(){return vr}));var r,o={};n.r(o),n.d(o,"FunctionToString",(function(){return a})),n.d(o,"InboundFilters",(function(){return j}));var i,a=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){r=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return r.apply(n,e)}},e.id="FunctionToString",e}(),s=n(0),c=n(2);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(i||(i={}));var u=function(){function e(e){var t=this;this._state=i.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(i.RESOLVED,e)},this._reject=function(e){t._setResult(i.REJECTED,e)},this._setResult=function(e,n){t._state===i.PENDING&&(Object(c.m)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==i.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||(t._state===i.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===i.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.toString=function(){return"[object SyncPromise]"},e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var o=t.length,i=[];t.forEach((function(t,a){e.resolve(t).then((function(e){i[a]=e,0===(o-=1)&&n(i)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,o){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(e){return void o(e)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(e){return void o(e)}else o(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var o,i;return n.then((function(e){i=!1,o=e,t&&t()}),(function(e){i=!0,o=e,t&&t()})).then((function(){i?r(o):e(o)}))}))},e}(),f=n(3),l=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){e._scopeListeners.forEach((function(t){t(e)})),e._notifyingListeners=!1})))},e.prototype._notifyEventProcessors=function(e,t,n,r){var o=this;return void 0===r&&(r=0),new u((function(i,a){var u=e[r];if(null===t||"function"!=typeof u)i(t);else{var f=u(s.a({},t),n);Object(c.m)(f)?f.then((function(t){return o._notifyEventProcessors(e,t,n,r+1).then(i)})).then(null,a):o._notifyEventProcessors(e,f,n,r+1).then(i).then(null,a)}}))},e.prototype.setUser=function(e){return this._user=e||{},this._notifyScopeListeners(),this},e.prototype.setTags=function(e){return this._tags=s.a({},this._tags,e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=s.a({},this._tags,((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=s.a({},this._extra,e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=s.a({},this._extra,((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this._transaction=e,this._span&&(this._span.transaction=e),this._notifyScopeListeners(),this},e.prototype.setContext=function(e,t){var n;return this._context=s.a({},this._context,((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=s.d(t._breadcrumbs),n._tags=s.a({},t._tags),n._extra=s.a({},t._extra),n._context=s.a({},t._context),n._user=t._user,n._level=t._level,n._span=t._span,n._transaction=t._transaction,n._fingerprint=t._fingerprint,n._eventProcessors=s.d(t._eventProcessors)),n},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=s.a({timestamp:Object(f.l)()},e);return this._breadcrumbs=void 0!==t&&t>=0?s.d(this._breadcrumbs,[n]).slice(-t):s.d(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e.prototype.applyToEvent=function(e,t){return this._extra&&Object.keys(this._extra).length&&(e.extra=s.a({},this._extra,e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=s.a({},this._tags,e.tags)),this._user&&Object.keys(this._user).length&&(e.user=s.a({},this._user,e.user)),this._context&&Object.keys(this._context).length&&(e.contexts=s.a({},this._context,e.contexts)),this._level&&(e.level=this._level),this._transaction&&(e.transaction=this._transaction),this._span&&(e.contexts=s.a({trace:this._span.getTraceContext()},e.contexts)),this._applyFingerprint(e),e.breadcrumbs=s.d(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(s.d(p(),this._eventProcessors),e,t)},e}();function p(){var e=Object(f.f)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function d(e){p().push(e)}var h=Object(f.f)(),v="Sentry Logger ",g=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(f.c)((function(){h.console.log(v+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(f.c)((function(){h.console.warn(v+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(f.c)((function(){h.console.error(v+"[Error]: "+e.join(" "))}))},e}();h.__SENTRY__=h.__SENTRY__||{};var y=h.__SENTRY__.logger||(h.__SENTRY__.logger=new g),m=function(){function e(e,t,n){void 0===t&&(t=new l),void 0===n&&(n=3),this._version=n,this._stack=[],this._stack.push({client:e,scope:t})}return e.prototype._invokeClient=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop();o&&o.client&&o.client[e]&&(t=o.client)[e].apply(t,s.d(n,[o.scope]))},e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=this.getStack(),t=e.length>0?e[e.length-1].scope:void 0,n=l.clone(t);return this.getStack().push({client:this.getClient(),scope:n}),n},e.prototype.popScope=function(){return void 0!==this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=Object(f.m)(),r=t;if(!t){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(e){o=e}r={originalException:e,syntheticException:o}}return this._invokeClient("captureException",e,s.a({},r,{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var r=this._lastEventId=Object(f.m)(),o=n;if(!n){var i=void 0;try{throw new Error(e)}catch(e){i=e}o={originalException:e,syntheticException:i}}return this._invokeClient("captureMessage",e,t,s.a({},o,{event_id:r})),r},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(f.m)();return this._invokeClient("captureEvent",e,s.a({},t,{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop();if(n.scope&&n.client){var r=n.client.getOptions&&n.client.getOptions()||{},o=r.beforeBreadcrumb,i=void 0===o?null:o,a=r.maxBreadcrumbs,c=void 0===a?100:a;if(!(c<=0)){var u=Object(f.l)(),l=s.a({timestamp:u},e),p=i?Object(f.c)((function(){return i(l,t)})):l;null!==p&&n.scope.addBreadcrumb(p,Math.min(c,100))}}},e.prototype.setUser=function(e){var t=this.getStackTop();t.scope&&t.scope.setUser(e)},e.prototype.setTags=function(e){var t=this.getStackTop();t.scope&&t.scope.setTags(e)},e.prototype.setExtras=function(e){var t=this.getStackTop();t.scope&&t.scope.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop();t.scope&&t.client&&e(t.scope)},e.prototype.run=function(e){var t=_(this);try{e(this)}finally{_(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return y.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e,t){return void 0===t&&(t=!1),this._callExtensionMethod("startSpan",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=b(),o=r.__SENTRY__;if(o&&o.extensions&&"function"==typeof o.extensions[e])return o.extensions[e].apply(this,t);y.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function b(){var e=Object(f.f)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function _(e){var t=b(),n=O(t);return x(t,e),n}function w(){var e=b();return E(e)&&!O(e).isOlderThan(3)||x(e,new m),Object(f.i)()?function(e){try{var t=b().__SENTRY__;if(!t||!t.extensions||!t.extensions.domain)return O(e);var n=t.extensions.domain.active;if(!n)return O(e);if(!E(n)||O(n).isOlderThan(3)){var r=O(e).getStackTop();x(n,new m(r.client,l.clone(r.scope)))}return O(n)}catch(t){return O(e)}}(e):O(e)}function E(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function O(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new m),e.__SENTRY__.hub}function x(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}var S=n(5),k=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],j=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){d((function(t){var n=w();if(!n)return t;var r=n.getIntegration(e);if(r){var o=n.getClient(),i=o?o.getOptions():{},a=r._mergeOptions(i);if(r._shouldDropEvent(t,a))return null}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(y.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(f.d)(e)),!0):this._isIgnoredError(e,t)?(y.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(f.d)(e)),!0):this._isBlacklistedUrl(e,t)?(y.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(f.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isWhitelistedUrl(e,t)&&(y.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(f.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(void 0===t&&(t={}),!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return void 0===t&&(t={}),!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return Object(S.a)(e,t)}))}))},e.prototype._isBlacklistedUrl=function(e,t){if(void 0===t&&(t={}),!t.blacklistUrls||!t.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.blacklistUrls.some((function(e){return Object(S.a)(n,e)}))},e.prototype._isWhitelistedUrl=function(e,t){if(void 0===t&&(t={}),!t.whitelistUrls||!t.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.whitelistUrls.some((function(e){return Object(S.a)(n,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{blacklistUrls:s.d(this._options.blacklistUrls||[],e.blacklistUrls||[]),ignoreErrors:s.d(this._options.ignoreErrors||[],e.ignoreErrors||[],k),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:s.d(this._options.whitelistUrls||[],e.whitelistUrls||[])}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,o=t.value,i=void 0===o?"":o;return[""+i,r+": "+i]}catch(t){return y.error("Cannot extract message for event "+Object(f.d)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(t){return y.error("Cannot extract url for event "+Object(f.d)(e)),null}},e.id="InboundFilters",e}();var T=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var I=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,T(r,n.prototype),r}return s.b(t,e),t}(Error),R=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,D=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,o=t.pass,i=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=R.exec(e);if(!t)throw new I("Invalid Dsn");var n=s.c(t.slice(1),6),r=n[0],o=n[1],i=n[2],a=void 0===i?"":i,c=n[3],u=n[4],f=void 0===u?"":u,l="",p=n[5],d=p.split("/");d.length>1&&(l=d.slice(0,-1).join("/"),p=d.pop()),this._fromComponents({host:c,pass:a,path:l,projectId:p,port:f,protocol:r,user:o})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach((function(t){if(!e[t])throw new I("Invalid Dsn")})),"http"!==this.protocol&&"https"!==this.protocol)throw new I("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new I("Invalid Dsn")},e}(),C=n(4),N=function(){function e(e){this.dsn=e,this._dsnObject=new D(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(C.e)(e)},e.prototype._getBaseUrl=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this._getBaseUrl()+(t.path?"/"+t.path:"")+"/api/embed/error-page/",r=[];for(var o in r.push("dsn="+t.toString()),e)if("user"===o){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?n+"?"+r.join("&"):n},e}(),L=[];function A(e){var t={};return function(e){var t=e.defaultIntegrations&&s.d(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(e){return e.name})),i=[];t.forEach((function(e){-1===o.indexOf(e.name)&&-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))})),n.forEach((function(e){-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))}))}else"function"==typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=s.d(t);var a=r.map((function(e){return e.name}));return-1!==a.indexOf("Debug")&&r.push.apply(r,s.d(r.splice(a.indexOf("Debug"),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===L.indexOf(e.name)&&(e.setupOnce(d,w),L.push(e.name),y.log("Integration installed: "+e.name))}(e)})),t}var P,M=function(){function e(e,t){this._integrations={},this._processing=!1,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new D(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._getBackend().eventFromException(e,t).then((function(e){return r._processEvent(e,t,n)})).then((function(e){o=e&&e.event_id,r._processing=!1})).then(null,(function(e){y.error(e),r._processing=!1})),o},e.prototype.captureMessage=function(e,t,n,r){var o=this,i=n&&n.event_id;return this._processing=!0,(Object(c.i)(e)?this._getBackend().eventFromMessage(""+e,t,n):this._getBackend().eventFromException(e,n)).then((function(e){return o._processEvent(e,n,r)})).then((function(e){i=e&&e.event_id,o._processing=!1})).then(null,(function(e){y.error(e),o._processing=!1})),i},e.prototype.captureEvent=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._processEvent(e,t,n).then((function(e){o=e&&e.event_id,r._processing=!1})).then(null,(function(e){y.error(e),r._processing=!1})),o},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(n){return clearInterval(n.interval),t._getBackend().getTransport().close(e).then((function(e){return n.ready&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=A(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return y.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._isClientProcessing=function(e){var t=this;return new u((function(n){var r=0,o=0;clearInterval(o),o=setInterval((function(){t._processing?(r+=1,e&&r>=e&&n({interval:o,ready:!1})):n({interval:o,ready:!0})}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,o=this.getOptions(),i=o.environment,a=o.release,c=o.dist,l=o.maxValueLength,p=void 0===l?250:l,d=o.normalizeDepth,h=void 0===d?3:d,v=s.a({},e);void 0===v.environment&&void 0!==i&&(v.environment=i),void 0===v.release&&void 0!==a&&(v.release=a),void 0===v.dist&&void 0!==c&&(v.dist=c),v.message&&(v.message=Object(S.d)(v.message,p));var g=v.exception&&v.exception.values&&v.exception.values[0];g&&g.value&&(g.value=Object(S.d)(g.value,p));var y=v.request;y&&y.url&&(y.url=Object(S.d)(y.url,p)),void 0===v.event_id&&(v.event_id=n&&n.event_id?n.event_id:Object(f.m)()),this._addIntegrations(v.sdk);var m=u.resolve(v);return t&&(m=t.applyToEvent(v,n)),m.then((function(e){return"number"==typeof h&&h>0?r._normalizeEvent(e,h):e}))},e.prototype._normalizeEvent=function(e,t){return e?s.a({},e,e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return s.a({},e,e.data&&{data:Object(C.c)(e.data,t)})}))},e.user&&{user:Object(C.c)(e.user,t)},e.contexts&&{contexts:Object(C.c)(e.contexts,t)},e.extra&&{extra:Object(C.c)(e.extra,t)}):null},e.prototype._addIntegrations=function(e){var t=Object.keys(this._integrations);e&&t.length>0&&(e.integrations=t)},e.prototype._processEvent=function(e,t,n){var r=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate;return this._isEnabled()?"number"==typeof a&&Math.random()>a?u.reject("This event has been sampled, will not send event."):new u((function(o,a){r._prepareEvent(e,n,t).then((function(e){if(null!==e){var n=e;if(t&&t.data&&!0===t.data.__sentry__||!i)return r._getBackend().sendEvent(n),void o(n);var s=i(e,t);if(void 0===s)y.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(c.m)(s))r._handleAsyncBeforeSend(s,o,a);else{if(null===(n=s))return y.log("`beforeSend` returned `null`, will not send event."),void o(null);r._getBackend().sendEvent(n),o(n)}}else a("An event processor returned null, will not send event.")})).then(null,(function(e){r.captureException(e,{data:{__sentry__:!0},originalException:e}),a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))})):u.reject("SDK not enabled, will not send event.")},e.prototype._handleAsyncBeforeSend=function(e,t,n){var r=this;e.then((function(e){null!==e?(r._getBackend().sendEvent(e),t(e)):n("`beforeSend` returned `null`, will not send event.")})).then(null,(function(e){n("beforeSend rejected with "+e)}))},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(P||(P={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(P||(P={}));var U,B=function(){function e(){}return e.prototype.sendEvent=function(e){return u.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:P.Skipped})},e.prototype.close=function(e){return u.resolve(!0)},e}(),F=function(){function e(e){this._options=e,this._options.dsn||y.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype._setupTransport=function(){return new B},e.prototype.eventFromException=function(e,t){throw new I("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new I("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){y.error("Error while sending event: "+e)}))},e.prototype.getTransport=function(){return this._transport},e}();function H(){if(!("fetch"in Object(f.f)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function q(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function W(){if(!H())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(U||(U={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(U||(U={}));var z=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,G=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,$=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Y=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,J=/\((\S*)(?::(\d+))(?::(\d+))\)/;function K(e){var t=null,n=e&&e.framesToPop;try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=n.split("\n"),a=[],s=0;s<i.length;s+=2){var c=null;(t=r.exec(i[s]))?c={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=o.exec(i[s]))&&(c={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),c&&(!c.func&&c.line&&(c.func="?"),a.push(c))}if(!a.length)return null;return{message:V(e),name:e.name,stack:a}}(e))return X(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,o=[],i=e.stack.split("\n"),a=0;a<i.length;++a){if(n=z.exec(i[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=J.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||"?",args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=$.exec(i[a]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=G.exec(i[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=Y.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(o[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func="?"),o.push(r)}if(!o.length)return null;return{message:V(e),name:e.name,stack:o}}(e))return X(t,n)}catch(e){}return{message:V(e),name:e&&e.name,stack:[],failed:!0}}function X(e,t){try{return s.a({},e,{stack:e.stack.slice(t)})}catch(t){return e}}function V(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Z(e){var t=ee(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Q(e){return{exception:{values:[Z(e)]}}}function ee(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).slice(0,50).reverse()}function te(e,t,n){var r;if(void 0===n&&(n={}),Object(c.e)(e)&&e.error)return r=Q(K(e=e.error));if(Object(c.a)(e)||Object(c.b)(e)){var o=e,i=o.name||(Object(c.a)(o)?"DOMError":"DOMException"),a=o.message?i+": "+o.message:i;return r=ne(a,t,n),Object(f.b)(r,a),r}return Object(c.d)(e)?r=Q(K(e)):Object(c.h)(e)||Object(c.f)(e)?(r=function(e,t,n){var r={exception:{values:[{type:Object(c.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(C.a)(e)}]},extra:{__serialized__:Object(C.d)(e)}};if(t){var o=ee(K(t).stack);r.stacktrace={frames:o}}return r}(e,t,n.rejection),Object(f.a)(r,{synthetic:!0}),r):(r=ne(e,t,n),Object(f.b)(r,""+e,void 0),Object(f.a)(r,{synthetic:!0}),r)}function ne(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var o=ee(K(t).stack);r.stacktrace={frames:o}}return r}var re=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):u.reject(new I("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new u((function(n){var r=setTimeout((function(){e&&e>0&&n(!1)}),e);u.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},e}(),oe=function(){function e(e){this.options=e,this._buffer=new re(30),this.url=new N(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new I("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e}(),ie=Object(f.f)(),ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disabledUntil=new Date(Date.now()),t}return s.b(t,e),t.prototype.sendEvent=function(e){var t=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n={body:JSON.stringify(e),method:"POST",referrerPolicy:W()?"origin":""};return void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add(new u((function(e,r){ie.fetch(t.url,n).then((function(n){var o=P.fromHttpCode(n.status);if(o!==P.Success){if(o===P.RateLimit){var i=Date.now();t._disabledUntil=new Date(i+Object(f.j)(i,n.headers.get("Retry-After"))),y.warn("Too many requests, backing off till: "+t._disabledUntil)}r(n)}else e({status:o})})).catch(r)})))},t}(oe),se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disabledUntil=new Date(Date.now()),t}return s.b(t,e),t.prototype.sendEvent=function(e){var t=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new u((function(n,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var e=P.fromHttpCode(o.status);if(e!==P.Success){if(e===P.RateLimit){var i=Date.now();t._disabledUntil=new Date(i+Object(f.j)(i,o.getResponseHeader("Retry-After"))),y.warn("Too many requests, backing off till: "+t._disabledUntil)}r(o)}else n({status:e})}},o.open("POST",t.url),t.options.headers)t.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,t.options.headers[i]);o.send(JSON.stringify(e))})))},t}(oe),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.b(t,e),t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=s.a({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):H()?new ae(t):new se(t)},t.prototype.eventFromException=function(e,t){var n=te(e,t&&t.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return Object(f.a)(n,{handled:!0,type:"generic"}),n.level=U.Error,t&&t.event_id&&(n.event_id=t.event_id),u.resolve(n)},t.prototype.eventFromMessage=function(e,t,n){void 0===t&&(t=U.Info);var r=ne(e,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return r.level=t,n&&n.event_id&&(r.event_id=n.event_id),u.resolve(r)},t}(F),ue=function(e){function t(t){return void 0===t&&(t={}),e.call(this,ce,t)||this}return s.b(t,e),t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",t.sdk=s.a({},t.sdk,{name:"sentry.javascript.browser",packages:s.d(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:"5.15.5"}]),version:"5.15.5"}),e.prototype._prepareEvent.call(this,t,n,r)},t.prototype.showReportDialog=function(e){void 0===e&&(e={});var t=Object(f.f)().document;if(t)if(this._isEnabled()){var n=e.dsn||this.getDsn();if(e.eventId)if(n){var r=t.createElement("script");r.async=!0,r.src=new N(n).getReportDialogEndpoint(e),e.onLoad&&(r.onload=e.onLoad),(t.head||t.body).appendChild(r)}else y.error("Missing `Dsn` option in showReportDialog call");else y.error("Missing `eventId` option in showReportDialog call")}else y.error("Trying to call showReportDialog with Sentry Client is disabled")},t}(M);function fe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=w();if(r&&r[e])return r[e].apply(r,s.d(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function le(e){var t;try{throw new Error("Sentry syntheticException")}catch(e){t=e}return fe("captureException",e,{originalException:e,syntheticException:t})}function pe(e){fe("withScope",e)}var de=0;function he(){return de>0}function ve(){de+=1,setTimeout((function(){de-=1}))}function ge(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((function(e){return ge(e,t)}));return e.handleEvent?e.handleEvent.apply(this,o):e.apply(this,o)}catch(e){throw ve(),pe((function(n){n.addEventProcessor((function(e){var n=s.a({},e);return t.mechanism&&(Object(f.b)(n,void 0,void 0),Object(f.a)(n,t.mechanism)),n.extra=s.a({},n.extra,{arguments:r}),n})),le(e)})),e}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch(e){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(e){}return r}var ye,me=function(){function e(){this._ignoreOnError=0,this.name=e.id}return e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=ge(r,{mechanism:{data:{function:Object(f.e)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e(ge(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(f.e)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Object(f.f)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(C.b)(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=ge(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Object(f.e)(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.call(this,n,ge(r,{mechanism:{data:{function:"addEventListener",handler:Object(f.e)(r),target:e},handled:!0,type:"instrument"}}),o)}})),Object(C.b)(n,"removeEventListener",(function(e){return function(t,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(e){}return e.call(this,t,o,r)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach((function(e){e in r&&"function"==typeof r[e]&&Object(C.b)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:Object(f.e)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=Object(f.e)(t.__sentry_original__)),ge(t,n)}))})),e.apply(this,t)}},e.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var e=Object(f.f)();Object(C.b)(e,"setTimeout",this._wrapTimeFunction.bind(this)),Object(C.b)(e,"setInterval",this._wrapTimeFunction.bind(this)),Object(C.b)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),"XMLHttpRequest"in e&&Object(C.b)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},e.id="TryCatch",e}(),be=Object(f.f)(),_e={},we={};function Ee(e){if(!we[e])switch(we[e]=!0,e){case"console":!function(){if(!("console"in be))return;["debug","info","warn","error","log","assert"].forEach((function(e){e in be.console&&Object(C.b)(be.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];xe("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,be.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in be))return;be.document.addEventListener("click",Re("click",xe.bind(null,"dom")),!1),be.document.addEventListener("keypress",De(xe.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(e){var t=be[e]&&be[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Object(C.b)(t,"addEventListener",(function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&Object(C.b)(n,"handleEvent",(function(e){return function(t){return Re("click",xe.bind(null,"dom"))(t),e.call(this,t)}})),"keypress"===t&&Object(C.b)(n,"handleEvent",(function(e){return function(t){return De(xe.bind(null,"dom"))(t),e.call(this,t)}}))):("click"===t&&Re("click",xe.bind(null,"dom"),!0)(this),"keypress"===t&&De(xe.bind(null,"dom"))(this)),e.call(this,t,n,r)}})),Object(C.b)(t,"removeEventListener",(function(e){return function(t,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(e){}return e.call(this,t,o,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in be))return;var e=XMLHttpRequest.prototype;Object(C.b)(e,"open",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[1];return this.__sentry_xhr__={method:Object(c.k)(t[0])?t[0].toUpperCase():t[0],url:t[1]},Object(c.k)(r)&&"POST"===this.__sentry_xhr__.method&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0),e.apply(this,t)}})),Object(C.b)(e,"send",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,o={args:t,startTimestamp:Date.now(),xhr:r};return xe("xhr",s.a({},o)),r.addEventListener("readystatechange",(function(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(e){}xe("xhr",s.a({},o,{endTimestamp:Date.now()}))}})),e.apply(this,t)}}))}();break;case"fetch":!function(){if(!function(){if(!H())return!1;var e=Object(f.f)();if(q(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=q(r.contentWindow.fetch)),n.head.removeChild(r)}catch(e){y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}())return;Object(C.b)(be,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:Se(t),url:ke(t)},startTimestamp:Date.now()};return xe("fetch",s.a({},r)),e.apply(be,t).then((function(e){return xe("fetch",s.a({},r,{endTimestamp:Date.now(),response:e})),e}),(function(e){throw xe("fetch",s.a({},r,{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(e=Object(f.f)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState,n||!r)return;var e,t,n,r;var o=be.onpopstate;function i(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length>2?t[2]:void 0;if(r){var o=ye,i=String(r);ye=i,xe("history",{from:o,to:i})}return e.apply(this,t)}}be.onpopstate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=be.location.href,r=ye;if(ye=n,xe("history",{from:r,to:n}),o)return o.apply(this,e)},Object(C.b)(be.history,"pushState",i),Object(C.b)(be.history,"replaceState",i)}();break;case"error":Ce=be.onerror,be.onerror=function(e,t,n,r,o){return xe("error",{column:r,error:o,line:n,msg:e,url:t}),!!Ce&&Ce.apply(this,arguments)};break;case"unhandledrejection":Ne=be.onunhandledrejection,be.onunhandledrejection=function(e){return xe("unhandledrejection",e),!Ne||Ne.apply(this,arguments)};break;default:y.warn("unknown instrumentation type:",e)}}function Oe(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(_e[e.type]=_e[e.type]||[],_e[e.type].push(e.callback),Ee(e.type))}function xe(e,t){var n,r;if(e&&_e[e])try{for(var o=s.e(_e[e]||[]),i=o.next();!i.done;i=o.next()){var a=i.value;try{a(t)}catch(t){y.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+Object(f.e)(a)+"\nError: "+t)}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function Se(e){return void 0===e&&(e=[]),"Request"in be&&Object(c.g)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function ke(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in be&&Object(c.g)(e[0],Request)?e[0].url:String(e[0])}var je,Te,Ie=0;function Re(e,t,n){return void 0===n&&(n=!1),function(r){je=void 0,r&&Te!==r&&(Te=r,Ie&&clearTimeout(Ie),n?Ie=setTimeout((function(){t({event:r,name:e})})):t({event:r,name:e}))}}function De(e){return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(je||Re("input",e)(t),clearTimeout(je),je=setTimeout((function(){je=void 0}),1e3))}}var Ce=null;var Ne=null;var Le=function(){function e(t){this.name=e.id,this._options=s.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:U.fromString(e.level),message:Object(S.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(S.b)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}w().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Object(f.h)(e.event.target):Object(f.h)(e.event)}catch(e){t="<unknown>"}0!==t.length&&w().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;w().addBreadcrumb({category:"xhr",data:e.xhr.__sentry_xhr__,type:"http"},{xhr:e.xhr})}else this._options.sentry&&e.xhr.__sentry_own_request__&&Ae(e.args[0])},e.prototype._fetchBreadcrumb=function(e){if(e.endTimestamp){var t=w().getClient(),n=t&&t.getDsn();if(this._options.sentry&&n){var r=new N(n).getStoreEndpoint();if(r&&-1!==e.fetchData.url.indexOf(r)&&"POST"===e.fetchData.method&&e.args[1]&&e.args[1].body)return void Ae(e.args[1].body)}e.error?w().addBreadcrumb({category:"fetch",data:s.a({},e.fetchData,{status_code:e.response.status}),level:U.Error,type:"http"},{data:e.error,input:e.args}):w().addBreadcrumb({category:"fetch",data:s.a({},e.fetchData,{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})}},e.prototype._historyBreadcrumb=function(e){var t=Object(f.f)(),n=e.from,r=e.to,o=Object(f.k)(t.location.href),i=Object(f.k)(n),a=Object(f.k)(r);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),w().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.prototype.setupOnce=function(){var e=this;this._options.console&&Oe({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,s.d(t))},type:"console"}),this._options.dom&&Oe({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,s.d(t))},type:"dom"}),this._options.xhr&&Oe({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,s.d(t))},type:"xhr"}),this._options.fetch&&Oe({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,s.d(t))},type:"fetch"}),this._options.history&&Oe({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,s.d(t))},type:"history"})},e.id="Breadcrumbs",e}();function Ae(e){try{var t=JSON.parse(e);w().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level||U.fromString("error"),message:Object(f.d)(t)},{event:t})}catch(e){y.error("Error while adding sentry type breadcrumb")}}var Pe=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=s.a({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(y.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(y.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(Oe({callback:function(n){var r=n.error,o=w(),i=o.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(i&&!he()&&!a){var s=o.getClient(),u=Object(c.i)(r)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(te(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(f.a)(u,{handled:!1,type:"onerror"}),o.captureEvent(u,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(Oe({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(e){}var o=w(),i=o.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(!i||he()||a)return!0;var s=o.getClient(),u=Object(c.i)(r)?t._eventFromIncompleteRejection(r):te(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=U.Error,Object(f.a)(u,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(u,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var o,i=Object(c.e)(e)?e.message:e;if(Object(c.k)(i)){var a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(o=a[1],i=a[2])}var s={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},e.prototype._eventFromIncompleteRejection=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+e}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,a=Object(c.k)(t)&&t.length>0?t:Object(f.g)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:o,filename:a,function:"?",in_app:!0,lineno:i}),e},e.id="GlobalHandlers",e}(),Me=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){d((function(t,n){var r=w().getIntegration(e);return r?r._handler(t,n):t}))},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&Object(c.g)(t.originalException,Error)))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=s.d(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!Object(c.g)(e[t],Error)||n.length+1>=this._limit)return n;var r=Z(K(e[t]));return this._walkErrorTree(e[t],t,s.d([r],n))},e.id="LinkedErrors",e}(),Ue=Object(f.f)(),Be=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){d((function(t){if(w().getIntegration(e)){if(!Ue.navigator||!Ue.location)return t;var n=t.request||{};return n.url=n.url||Ue.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=Ue.navigator.userAgent,s.a({},t,{request:n})}return t}))},e.id="UserAgent",e}(),Fe=[new o.InboundFilters,new o.FunctionToString,new me,new Le,new Pe,new Me,new Be];var He=function(){return(He=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function qe(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}var We=function(e){return Array.isArray(e)},ze=function(e){return!Array.isArray(e)&&"object"==typeof e&&null!==e};function Ge(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];null!=i&&(e=Ye(e,i,$e()))}return e}function $e(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}function Ye(e,t,n){if(void 0===t)return e;if(!ze(t)&&!We(t))return t;if(!n.hasAlreadyBeenSeen(t)){if(ze(t)&&(void 0===e||ze(e))){var r=e||{};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=Ye(r[o],t[o],n));return r}if(We(t)&&(void 0===e||We(e))){(r=e||[]).length=Math.max(r.length,t.length);for(var i=0;i<t.length;i+=1)r[i]=Ye(r[i],t[i],n);return r}return t}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Je=function(){return(Je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ke(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Xe(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Ve(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var Ze=/[^\u0000-\u007F]/,Qe=function(){function e(e,t,n){void 0===n&&(n=!1),this.endpointUrl=e,this.bytesLimit=t,this.withBatchTime=n}return e.prototype.send=function(e,t){var n=this.withBatchTime?function(e){return e+(-1===e.indexOf("?")?"?":"&")+"batch_time="+(new Date).getTime()}(this.endpointUrl):this.endpointUrl;if(navigator.sendBeacon&&t<this.bytesLimit&&navigator.sendBeacon(n,e))return;var r=new XMLHttpRequest;r.open("POST",n,!0),r.send(e)},e}();var et=function(){function e(e,t,n,r,o,i){void 0===i&&(i=bt),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=o,this.beforeUnloadCallback=i,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(){if(0!==this.bufferMessageCount){var e=Ve(this.pushOnlyBuffer,(t=this.upsertBuffer,n=[],Object.keys(t).forEach((function(e){n.push(t[e])})),n));this.request.send(e.join("\n"),this.bufferBytesSize),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}var t,n},e.prototype.sizeInBytes=function(e){return Ze.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,o=n.messageBytesSize;o>=this.maxMessageSize?console.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(o)&&this.flush(),this.push(r,o,t),this.isFull()&&this.flush())},e.prototype.process=function(e){var t=_t(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout((function(){e.flush(),e.flushPeriodically()}),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&(St(window,ht.BEFORE_UNLOAD,this.beforeUnloadCallback),St(document,ht.VISIBILITY_CHANGE,(function(){"hidden"===document.visibilityState&&e.flush()})),St(window,ht.BEFORE_UNLOAD,(function(){return e.flush()})))},e}(),tt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;var nt,rt=function(){var e,t,n,r,o,i,a=[];function s(e,t,n){var r;if(a.forEach((function(o){try{o(e,t,n)}catch(e){r=e}})),r)throw r}function c(e,r,o,i,a){if(t)ot.augmentStackTraceWithInitialElement(t,r,o),f();else if(a)s(ot(a),!0,a);else{var c,u={url:r,column:i,line:o},l=e;if("[object String]"==={}.toString.call(e)){var p=tt.exec(l);p&&(c=p[1],l=p[2])}s({name:c,message:"string"==typeof l?l:void 0,stack:[u]},!0,e)}return!!n&&n.apply(this,arguments)}function u(e){var t=e.reason||"Empty reason";s(ot(t),!0,t)}function f(){var n=t,r=e;t=void 0,e=void 0,s(n,!1,r)}function l(n){if(t){if(e===n)return;f()}var r=ot(n);throw t=r,e=n,setTimeout((function(){e===n&&f()}),r.incomplete?2e3:0),n}return l.subscribe=function(e){!function(){if(r)return;n=window.onerror,window.onerror=ut(c),r=!0}(),function(){if(i)return;o=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=ut(u),i=!0}(),a.push(e)},l.unsubscribe=function(e){for(var t=a.length-1;t>=0;t-=1)a[t]===e&&a.splice(t,1);0===a.length&&(r&&(window.onerror=n,r=!1),i&&(window.onunhandledrejection=o,i=!1))},l.traceKitWindowOnError=c,l}(),ot=function(){function e(e){var t=o(e,"stack");if(t){for(var n,r,i,a,s=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,p=t.split("\n"),d=[],h=0,v=p.length;h<v;h+=1){if(s.exec(p[h])){var g=(i=s.exec(p[h]))[2]&&0===i[2].indexOf("native");n=i[2]&&0===i[2].indexOf("eval"),r=l.exec(i[2]),n&&r&&(i[2]=r[1],i[3]=r[2],i[4]=r[3]),a={args:g?[i[2]]:[],column:i[4]?+i[4]:void 0,func:i[1]||"?",line:i[3]?+i[3]:void 0,url:g?void 0:i[2]}}else if(u.exec(p[h]))a={args:[],column:(i=u.exec(p[h]))[4]?+i[4]:void 0,func:i[1]||"?",line:+i[3],url:i[2]};else{if(!c.exec(p[h]))continue;n=(i=c.exec(p[h]))[3]&&i[3].indexOf(" > eval")>-1,r=f.exec(i[3]),n&&r?(i[3]=r[1],i[4]=r[2],i[5]=void 0):0!==h||i[5]||void 0===e.columnNumber||(d[0].column=e.columnNumber+1),a={args:i[2]?i[2].split(","):[],column:i[5]?+i[5]:void 0,func:i[1]||"?",line:i[4]?+i[4]:void 0,url:i[3]}}!a.func&&a.line&&(a.func="?"),d.push(a)}if(d.length)return{stack:d,message:o(e,"message"),name:o(e,"name")}}}function t(e,t,n){var r={url:t,line:n?+n:void 0};if(r.url&&r.line){e.incomplete=!1;var o=e.stack;if(o.length>0&&o[0].url===r.url){if(o[0].line===r.line)return!1;if(!o[0].line&&o[0].func===r.func)return o[0].line=r.line,o[0].context=r.context,!1}return o.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,r){for(var i,a,s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,c=[],u={},f=!1,l=n.caller;l&&!f;l=l.caller)l!==ot&&l!==rt&&(a={args:[],column:void 0,func:"?",line:void 0,url:void 0},i=s.exec(l.toString()),l.name?a.func=l.name:i&&(a.func=i[1]),void 0===a.func&&(a.func=i?i.input.substring(0,i.input.indexOf("{")):void 0),u[l.toString()]?f=!0:u[l.toString()]=!0,c.push(a));r&&c.splice(0,r);var p={stack:c,message:o(e,"message"),name:o(e,"name")};return t(p,o(e,"sourceURL")||o(e,"fileName"),o(e,"line")||o(e,"lineNumber")),p}function r(t,r){var i,a=void 0===r?0:+r;try{if(i=function(e){var t=o(e,"stacktrace");if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,a=t.split("\n"),s=[],c=0;c<a.length;c+=2){var u=void 0;r.exec(a[c])?u={args:[],column:void 0,func:(n=r.exec(a[c]))[3],line:+n[1],url:n[2]}:i.exec(a[c])&&(u={args:(n=i.exec(a[c]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),u&&(!u.func&&u.line&&(u.func="?"),u.context=[a[c+1]],s.push(u))}if(s.length)return{stack:s,message:o(e,"message"),name:o(e,"name")}}}(t))return i}catch(e){0}try{if(i=e(t))return i}catch(e){0}try{if(i=function(e){var t=o(e,"message");if(t){var n=t.split("\n");if(!(n.length<4)){var r,i,a,s=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,c=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,u=/^\s*Line (\d+) of function script\s*$/i,f=[],l=window&&window.document&&window.document.getElementsByTagName("script"),p=[];for(var d in l)i=l,a=d,Object.prototype.hasOwnProperty.call(i,a)&&!l[d].src&&p.push(l[d]);for(var h=2;h<n.length;h+=2){var v=void 0;if(s.exec(n[h]))v={args:[],column:void 0,func:(r=s.exec(n[h]))[3],line:+r[1],url:r[2]};else if(c.exec(n[h]))v={args:[],column:void 0,func:(r=c.exec(n[h]))[4],line:+r[1],url:r[3]};else if(u.exec(n[h])){r=u.exec(n[h]),v={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+r[1]}}v&&(v.func||(v.func="?"),v.context=[n[h+1]],f.push(v))}if(f.length)return{stack:f,message:n[0],name:o(e,"name")}}}}(t))return i}catch(e){0}try{if(i=n(t,a+1))return i}catch(e){0}return{message:o(t,"message"),name:o(t,"name"),stack:[]}}function o(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r.ofCaller=function(e){var t=1+(void 0===e?0:+e);try{throw new Error}catch(e){return ot(e,t+1)}},r}();!function(e){e.info="info",e.error="error"}(nt||(nt={}));var it,at={maxMessagesPerPage:0,sentMessageCount:0};function st(e){if(e.internalMonitoringEndpoint){var t=function(e){var t,n=r(e.internalMonitoringEndpoint);void 0!==e.replica&&(t=r(e.replica.internalMonitoringEndpoint));function r(t){return new et(new Qe(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return{add:function(e){var r=function(e){return Ge({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==it?it():{},e)}(e);n.add(r),t&&t.add(r)}}}(e);!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}(at,{batch:t,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(e){it=e}}}function ct(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=at.batch?ut(r):r;return n.apply(this,e)}}function ut(e){return function(){try{return e.apply(this,arguments)}catch(e){dt(e);try{ft(e)}catch(e){dt(e)}}}}function ft(e){lt(Je(Je({},function(e){if(e instanceof Error){var t=ot(e);return{error:{kind:t.name,stack:Nt(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+_t(e)}}(e)),{status:nt.error}))}function lt(e){at.batch&&at.sentMessageCount<at.maxMessagesPerPage&&(at.sentMessageCount+=1,at.batch.add(e))}function pt(e){at.debugMode=e}function dt(e){at.debugMode&&console.warn("[INTERNAL ERROR]",e)}var ht,vt,gt,yt;function mt(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):(1e7+"-1000-4000-8000-100000000000").replace(/[018]/g,mt)}function bt(){}function _t(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];wt(e)&&(r=[!0,e.toJSON],delete e.toJSON);var o,i,a=[!1,void 0];"object"==typeof e&&wt(o=Object.getPrototypeOf(e))&&(a=[!0,o.toJSON],delete o.toJSON);try{i=JSON.stringify(e,void 0,n)}catch(e){i="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),a[0]&&(o.toJSON=a[1])}return i}function wt(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function Et(e,t){return-1!==e.indexOf(t)}function Ot(){return void 0===yt&&(yt=performance.timing.navigationStart),yt}function xt(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}function St(e,t,n,r){return kt(e,[t],n,r)}function kt(e,t,n,r){var o=void 0===r?{}:r,i=o.once,a=o.capture,s=o.passive,c=ut(i?function(e){f(),n(e)}:n),u=s?{capture:a,passive:s}:a;t.forEach((function(t){return e.addEventListener(t,c,u)}));var f=function(){return t.forEach((function(t){return e.removeEventListener(t,c,u)}))};return{stop:f}}!function(e){e.BEFORE_UNLOAD="beforeunload",e.CLICK="click",e.KEY_DOWN="keydown",e.LOAD="load",e.POP_STATE="popstate",e.SCROLL="scroll",e.TOUCH_START="touchstart",e.VISIBILITY_CHANGE="visibilitychange",e.DOM_CONTENT_LOADED="DOMContentLoaded",e.POINTER_DOWN="pointerdown",e.POINTER_UP="pointerup",e.POINTER_CANCEL="pointercancel",e.HASH_CHANGE="hashchange",e.PAGE_HIDE="pagehide",e.MOUSE_DOWN="mousedown"}(ht||(ht={})),function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(vt||(vt={})),function(e){e.FETCH="fetch",e.XHR="xhr"}(gt||(gt={}));var jt,Tt="agent",It="console",Rt="logger",Dt="network",Ct="source";function Nt(e){var t=(e.name||"Error")+": "+e.message;return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",o=e.line?":"+e.line:"",i=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+o+i})),t}var Lt,At,Pt={debug:"debug",error:"error",info:"info",warn:"warn"},Mt=((jt={})[Pt.debug]=0,jt[Pt.info]=1,jt[Pt.warn]=2,jt[Pt.error]=3,jt),Ut=(Object.keys(Pt),"console"),Bt="http",Ft=function(){function e(e,t,n,r){void 0===t&&(t=Bt),void 0===n&&(n=Pt.debug),void 0===r&&(r={}),this.sendLog=e,this.handlerType=t,this.level=n,this.contextManager=qe(),this.contextManager.set(r)}return e.prototype.log=function(e,t,n){if(void 0===n&&(n=Pt.info),Mt[n]>=Mt[this.level])switch(this.handlerType){case Bt:this.sendLog(He({message:e,status:n},Ge(this.contextManager.get(),t)));break;case Ut:console.log(n+": "+e,Ge(this.contextManager.get(),t))}},e.prototype.debug=function(e,t){this.log(e,t,Pt.debug)},e.prototype.info=function(e,t){this.log(e,t,Pt.info)},e.prototype.warn=function(e,t){this.log(e,t,Pt.warn)},e.prototype.error=function(e,t){var n={error:{origin:Rt}};this.log(e,Ge(n,t),Pt.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.addContext=function(e,t){this.contextManager.add(e,t)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.setLevel=function(e){this.level=e},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([ct],e.prototype,"log",null),e}();function Ht(e,t,n,r){var o=new Date;o.setTime(o.getTime()+n);var i="expires="+o.toUTCString(),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain="+r.domain:"",c=r&&r.secure?";secure":"";document.cookie=e+"="+t+";"+i+";path=/;samesite="+a+s+c}function qt(e){return function(e,t){var n=new RegExp("(?:^|;)\\s*"+t+"\\s*=\\s*([^;]+)").exec(e);return n?n[1]:void 0}(document.cookie,e)}function Wt(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_"+mt();return Ht(t,"test",1e3,e),"test"===qt(t)}catch(e){return console.error(e),!1}}var zt={alternate:{logs:"logs",rum:"rum",sessionReplay:"session-replay",trace:"trace"},classic:{logs:"browser",rum:"rum",sessionReplay:void 0,trace:"public-trace"}},Gt="eu",$t="us",Yt=((At={})[Gt]="datadoghq.eu",At[$t]="datadoghq.com",At),Jt=[Yt[$t],Yt[Gt]];function Kt(e,t){var n={applicationId:e.applicationId,buildMode:t.buildMode,clientToken:e.clientToken,env:e.env,proxyHost:e.proxyHost,sdkVersion:t.sdkVersion,service:e.service,site:e.site||Yt[e.datacenter||t.datacenter],version:e.version},r=function(e,t){return!t.useAlternateIntakeDomains&&Et(Jt,e)?"classic":"alternate"}(n.site,e),o=function(e,t,n){if(t.proxyHost)return["https://"+t.proxyHost+"/v1/input/"];var r=[t.site];t.buildMode===Zt.STAGING&&n&&r.push(Yt[$t]);for(var o=[],i=Object.keys(zt[e]),a=0,s=r;a<s.length;a++)for(var c=s[a],u=0,f=i;u<f.length;u++){var l=f[u];o.push("https://"+Xt(e,l,c)+"/v1/input/")}return o}(r,n,void 0!==e.replica),i={isIntakeUrl:function(e){return o.some((function(t){return 0===e.indexOf(t)}))},logsEndpoint:Vt(r,"logs",n),rumEndpoint:Vt(r,"rum",n),sessionReplayEndpoint:Vt(r,"sessionReplay",n),traceEndpoint:Vt(r,"trace",n)};if(e.internalMonitoringApiKey&&(i.internalMonitoringEndpoint=Vt(r,"logs",n,"browser-agent-internal-monitoring")),n.buildMode===Zt.E2E_TEST&&(i.internalMonitoringEndpoint="<<< E2E INTERNAL MONITORING ENDPOINT >>>",i.logsEndpoint="<<< E2E LOGS ENDPOINT >>>",i.rumEndpoint="<<< E2E RUM ENDPOINT >>>",i.sessionReplayEndpoint="<<< E2E SESSION REPLAY ENDPOINT >>>"),n.buildMode===Zt.STAGING&&void 0!==e.replica){var a=Je(Je({},n),{applicationId:e.replica.applicationId,clientToken:e.replica.clientToken,site:Yt[$t]});i.replica={applicationId:e.replica.applicationId,internalMonitoringEndpoint:Vt(r,"logs",a,"browser-agent-internal-monitoring"),logsEndpoint:Vt(r,"logs",a),rumEndpoint:Vt(r,"rum",a)}}return i}function Xt(e,t,n){return"classic"===e&&function(e,t){var n=zt.classic[e];return n&&n+"-http-intake.logs."+t}(t,n)||function(e,t){var n=zt.alternate[e],r=t.split("."),o=r.pop(),i=r.join("-")+"."+o;return n+".browser-intake-"+i}(t,n)}function Vt(e,t,n,r){var o="sdk_version:"+n.sdkVersion+(n.env?",env:"+n.env:"")+(n.service?",service:"+n.service:"")+(n.version?",version:"+n.version:""),i=Xt(e,t,n.site),a=n.proxyHost?n.proxyHost:i,s=n.proxyHost?"ddhost="+i+"&":"",c=""+(n.applicationId?"_dd.application_id="+n.applicationId+"&":"")+s+"ddsource="+(r||"browser")+"&ddtags="+encodeURIComponent(o);return"https://"+a+"/v1/input/"+n.clientToken+"?"+c}var Zt,Qt={allowedTracingOrigins:[],maxErrorsByMinute:3e3,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,silentMultipleInit:!1,trackInteractions:!1,requestErrorResponseLengthLimit:32768,flushTimeout:3e4,maxBatchSize:50,maxMessageSize:262144,batchBytesLimit:16384};function en(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===Lt){for(var e="dd_site_test_"+mt(),t=window.location.hostname.split("."),n=t.pop();t.length&&!qt(e);)Ht(e,"test",1e3,{domain:n=t.pop()+"."+n});Lt=n}return Lt}()),t}function tn(e,t){var n=function(e,t){var n=Array.isArray(e.enableExperimentalFeatures)?e.enableExperimentalFeatures:[],r=Je(Je({beforeSend:e.beforeSend,cookieOptions:en(e),isEnabled:function(e){return Et(n,e)},service:e.service},Kt(e,t)),Qt);return"allowedTracingOrigins"in e&&(r.allowedTracingOrigins=e.allowedTracingOrigins),"sampleRate"in e&&(r.sampleRate=e.sampleRate),"resourceSampleRate"in e&&(r.resourceSampleRate=e.resourceSampleRate),"trackInteractions"in e&&(r.trackInteractions=!!e.trackInteractions),r}(e,t);return{configuration:n,internalMonitoring:st(n)}}function nn(){return"file:"!==window.location.protocol||(console.error("Execution is not allowed in the current context."),!1)}!function(e){e.RELEASE="release",e.STAGING="staging",e.E2E_TEST="e2e-test"}(Zt||(Zt={}));var rn,on,an,sn=function(){function e(e){void 0===e&&(e=1e4),this.limit=e,this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>this.limit&&this.buffer.splice(0,1)},e.prototype.drain=function(e){this.buffer.forEach((function(t){return e(t)})),this.buffer.length=0},e}();function cn(e){return un(e,xt(window.location)).href}function un(e,t){if(function(){if(void 0!==rn)return rn;try{var e=new URL("http://test/path");return rn="http://test/path"===e.href}catch(e){rn=!1}return rn}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,r=n.createElement("a");if(void 0!==t){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,n.head.appendChild(o),n.body.appendChild(r)}return r.href=e,r}var fn,ln=[],pn=[];function dn(){return on||(!function(){if(!window.fetch)return;an=window.fetch,window.fetch=ut((function(e,t){var n=this,r=t&&t.method||"object"==typeof e&&e.method||"GET",o=cn("object"==typeof e&&e.url||e),i={init:t,input:e,method:r,startTime:performance.now(),url:o},a=function(e){return Ke(n,void 0,void 0,(function(){var t,n;return Xe(this,(function(r){switch(r.label){case 0:return i.duration=performance.now()-i.startTime,"stack"in e||e instanceof Error?(i.status=0,i.response=Nt(ot(e)),pn.forEach((function(e){return e(i)})),[3,6]):[3,1];case 1:if(!("status"in e))return[3,6];t=void 0,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,e.clone().text()];case 3:return t=r.sent(),[3,5];case 4:return n=r.sent(),t="Unable to retrieve response: "+n,[3,5];case 5:i.response=t,i.responseType=e.type,i.status=e.status,pn.forEach((function(e){return e(i)})),r.label=6;case 6:return[2]}}))}))};ln.forEach((function(e){return e(i)}));var s=an.call(this,i.input,i.init);return s.then(ut(a),ut(a)),s}))}(),on={beforeSend:function(e){ln.push(e)},onRequestComplete:function(e){pn.push(e)}}),on}var hn,vn,gn=[],yn=[];function mn(){return fn||(hn=XMLHttpRequest.prototype.open,vn=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.open=ut((function(e,t){return this._datadog_xhr={method:e,startTime:-1,url:cn(t)},hn.apply(this,arguments)})),XMLHttpRequest.prototype.send=ut((function(){var e=this;if(this._datadog_xhr){this._datadog_xhr.startTime=performance.now();var t=this.onreadystatechange;this.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&ut(r)(),t&&t.apply(this,arguments)};var n=!1,r=function(){n||(n=!0,e._datadog_xhr.duration=performance.now()-e._datadog_xhr.startTime,e._datadog_xhr.response=e.response,e._datadog_xhr.status=e.status,yn.forEach((function(t){return t(e._datadog_xhr)})))};this.addEventListener("loadend",ut(r)),gn.forEach((function(t){return t(e._datadog_xhr,e)}))}return vn.apply(this,arguments)})),fn={beforeSend:function(e){gn.push(e)},onRequestComplete:function(e){yn.push(e)}}),fn}var bn,_n,wn,En=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){this.observers.push(e)},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function On(e){if(!bn){var t=new En;!function(e,t){function n(n,r){e.isIntakeUrl(r.url)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!function(e){return e.status>=500}(r)||t.notify({message:kn(n)+" error "+r.method+" "+r.url,resource:{method:r.method,statusCode:r.status,url:r.url},source:Dt,stack:Sn(r.response,e)||"Failed to load",startTime:r.startTime})}mn().onRequestComplete((function(e){return n(gt.XHR,e)})),dn().onRequestComplete((function(e){return n(gt.FETCH,e)}))}(e,t),function(e){_n=console.error,console.error=ut((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];_n.apply(console,Ve([t],n)),e.notify({message:Ve(["console error:",t],n).map(xn).join(" "),source:It,startTime:performance.now()})}))}(t),function(e){wn=function(t,n,r){var o=function(e,t,n){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:Nt(e),type:e.name}:{message:n+" "+_t(t),stack:"No stack, consider using an instance of Error",type:e&&e.name}}(t,r,"Uncaught"),i=o.stack,a=o.message,s=o.type;e.notify({message:a,stack:i,type:s,source:Ct,startTime:performance.now()})},rt.subscribe(wn)}(t),bn=function(e,t){var n=0,r=new En;return t.subscribe((function(t){n<e.maxErrorsByMinute?(n+=1,r.notify(t)):n===e.maxErrorsByMinute&&(n+=1,r.notify({message:"Reached max number of errors by minute: "+e.maxErrorsByMinute,source:Tt,startTime:performance.now()}))})),setInterval((function(){return n=0}),6e4),r}(e,t)}return bn}function xn(e){return"string"==typeof e?e:e instanceof Error?Nt(ot(e)):_t(e,0,2)}function Sn(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function kn(e){return gt.XHR===e?"XHR":"Fetch"}function jn(e,t,n){var r=Ye(void 0,e,$e());try{n(r)}catch(t){return console.error(t),e}return t.forEach((function(t){var n=Tn(e,t),o=Tn(r,t);"string"==typeof n&&"string"==typeof o&&function(e,t,n){for(var r=e,o=t.split("."),i=0;i<o.length;i+=1){var a=o[i];if(!In(r,a))return;i!==o.length-1?r=r[a]:r[a]=n}}(e,t,o)})),e}function Tn(e,t){for(var n=e,r=0,o=t.split(".");r<o.length;r++){var i=o[r];if(!In(n,i))return;n=n[i]}return n}function In(e,t){return"object"==typeof e&&null!==e&&t in e}function Rn(e,t,n){var r=function(e,t){var n,r,o=!1,i=function(){o=!0,window.clearTimeout(n),n=window.setTimeout((function(){o=!1}),1e3)};return{get:function(){return o||(r=qt(e),i()),r},set:function(n,o){Ht(e,n,o,t),r=n,i()}}}("_dd_s",e);!function(e){var t=e.get(),n=qt("_dd"),r=qt("_dd_r"),o=qt("_dd_l");if(!t){var i={};n&&(i.id=n),o&&/^[01]$/.test(o)&&(i.logs=o),r&&/^[012]$/.test(r)&&(i.rum=r),Nn(i,e)}}(r);var o=new En,i=Cn(r).id,a=function(e,t,n){var r,o=!n||void 0===n.leading||n.leading,i=!n||void 0===n.trailing||n.trailing,a=!1,s=!1;return{throttled:function(){a?s=!0:(o?e():s=!0,a=!0,r=window.setTimeout((function(){i&&s&&e(),a=!1,s=!1}),t))},cancel:function(){window.clearTimeout(r),a=!1,s=!1}}}((function(){var e=Cn(r),a=n(e[t]),s=a.trackingType,c=a.isTracked;e[t]=s,c&&!e.id&&(e.id=mt(),e.created=String(Date.now())),Nn(e,r),c&&i!==e.id&&(i=e.id,o.notify())}),1e3).throttled;return a(),function(e){var t=kt(window,[ht.CLICK,ht.TOUCH_START,ht.KEY_DOWN,ht.SCROLL],e,{capture:!0,passive:!0}).stop;An.push(t)}(a),function(e){var t=ut((function(){"visible"===document.visibilityState&&e()})),n=St(document,ht.VISIBILITY_CHANGE,t).stop;An.push(n);var r=window.setInterval(t,6e4);An.push((function(){clearInterval(r)}))}((function(){Nn(Cn(r),r)})),{getId:function(){return Cn(r).id},getTrackingType:function(){return Cn(r)[t]},renewObservable:o}}var Dn=/^([a-z]+)=([a-z0-9-]+)$/;function Cn(e){var t=function(e){var t=e.get(),n={};(function(e){return void 0!==e&&(-1!==e.indexOf("&")||Dn.test(e))})(t)&&t.split("&").forEach((function(e){var t=Dn.exec(e);if(null!==t){var r=t[1],o=t[2];n[r]=o}}));return n}(e);return function(e){return(void 0===e.created||Date.now()-Number(e.created)<144e5)&&(void 0===e.expire||Date.now()<Number(e.expire))}(t)?t:(Ln(e),{})}function Nn(e,t){if(n=e,0!==Object.keys(n).length){var n;e.expire=String(Date.now()+9e5);var r=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}(e).map((function(e){return e[0]+"="+e[1]})).join("&");t.set(r,9e5)}else Ln(t)}function Ln(e){e.set("",0)}var An=[];var Pn;function Mn(e,t){if(!t){var n=Un(e)===Pn.TRACKED;return{getId:function(){},isTracked:function(){return n}}}var r=Rn(e.cookieOptions,"logs",(function(t){return function(e,t){var n=function(e){return e===Pn.NOT_TRACKED||e===Pn.TRACKED}(t)?t:Un(e);return{trackingType:n,isTracked:n===Pn.TRACKED}}(e,t)}));return{getId:r.getId,isTracked:function(){return r.getTrackingType()===Pn.TRACKED}}}function Un(e){return 0!==(t=e.sampleRate)&&100*Math.random()<=t?Pn.TRACKED:Pn.NOT_TRACKED;var t}!function(e){e.NOT_TRACKED="0",e.TRACKED="1"}(Pn||(Pn={}));var Bn={buildMode:"release",datacenter:"us",sdkVersion:"2.4.0"},Fn=["view.url","view.referrer","message","error.stack","http.url"];function Hn(e){var t=window.DD_RUM;return t&&t.getInternalContext?t.getInternalContext(e):void 0}var qn=function(e){var t=!1,n=qe(),r={},o=new sn,i=function(e,t){o.add([e,t])},a=new Ft(u);return s={logger:a,init:ut((function(r){nn()&&function(e){return t?(e.silentMultipleInit||console.error("DD_LOGS is already initialized."),!1):e&&(e.publicApiKey||e.clientToken)?!!(void 0===e.sampleRate||(n=e.sampleRate,function(e){return"number"==typeof e}(n)&&n>=0&&n<=100))||(console.error("Sample Rate should be a number between 0 and 100"),!1):(console.error("Client Token is not configured, we will not send any data."),!1);var n}(r)&&(r.publicApiKey&&(r.clientToken=r.publicApiKey,console.warn("Public API Key is deprecated. Please use Client Token instead.")),i=e(r,a,n.get),o.drain((function(e){var t=e[0],n=e[1];return i(t,n)})),t=!0)})),getLoggerGlobalContext:ut(n.get),setLoggerGlobalContext:ut(n.set),addLoggerGlobalContext:ut(n.add),removeLoggerGlobalContext:ut(n.remove),createLogger:ut((function(e,t){return void 0===t&&(t={}),r[e]=new Ft(u,t.handler,t.level,He(He({},t.context),{logger:{name:e}})),r[e]})),getLogger:ut((function(e){return r[e]}))},c=Je(Je({},s),{onReady:function(e){e()}}),Object.defineProperty(c,"_setDebug",{get:function(){return pt},enumerable:!1}),c;var s,c;function u(e){i(e,Ge({date:Date.now(),view:{referrer:document.referrer,url:window.location.href}},n.get()))}}((function(e,t,n){var r=tn(e,Bn),o=r.configuration,i=r.internalMonitoring;return function(e,t,n,r,o,i){n.setExternalContextProvider((function(){return Ge({session_id:r.getId()},i(),Hn())}));var a=function(e,t){return function(n,r){if(e.isTracked()){var o=Ge({service:t.service,session_id:e.getId()},r,Hn(),n);return t.beforeSend&&jn(o,Fn,t.beforeSend),o}}}(r,e),s=function(e){var t,n=r(e.logsEndpoint);void 0!==e.replica&&(t=r(e.replica.logsEndpoint));function r(t){return new et(new Qe(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return{add:function(e){n.add(e),t&&t.add(e)}}}(e);return t.subscribe((function(e){var t;o.error(e.message,Ge({date:(t=e.startTime,Math.floor(Ot()+t)),error:{kind:e.type,origin:e.source,stack:e.stack}},e.resource?{http:{method:e.resource.method,status_code:e.resource.statusCode,url:e.resource.url}}:void 0,Hn(e.startTime)))})),function(e,t){var n=a(e,t);n&&s.add(n)}}(o,!1!==e.forwardErrorsToLogs?On(o):new En,i,Mn(o,Wt(o.cookieOptions)),t,n)}));function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $n(e,t,n){return($n=Gn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Wn(o,n.prototype),o}).apply(null,arguments)}function Yn(e){var t="function"==typeof Map?new Map:void 0;return(Yn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return $n(e,arguments,zn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Wn(r,e)})(e)}!function(e,t,n){var r=e[t];e[t]=n,r&&r.q&&r.q.forEach((function(e){return e()}))}(function(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}(),"DD_LOGS",qn);var Jn=function(e){var t,n;function r(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Wn(t,n),r}(Yn(Error));function Kn(e){return Math.round(255*e)}function Xn(e,t,n){return Kn(e)+","+Kn(t)+","+Kn(n)}function Vn(e,t,n,r){if(void 0===r&&(r=Xn),0===t)return r(n,n,n);var o=(e%360+360)%360/60,i=(1-Math.abs(2*n-1))*t,a=i*(1-Math.abs(o%2-1)),s=0,c=0,u=0;o>=0&&o<1?(s=i,c=a):o>=1&&o<2?(s=a,c=i):o>=2&&o<3?(c=i,u=a):o>=3&&o<4?(c=a,u=i):o>=4&&o<5?(s=a,u=i):o>=5&&o<6&&(s=i,u=a);var f=n-i/2;return r(s+f,c+f,u+f)}var Zn={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var Qn=/^#[a-fA-F0-9]{6}$/,er=/^#[a-fA-F0-9]{8}$/,tr=/^#[a-fA-F0-9]{3}$/,nr=/^#[a-fA-F0-9]{4}$/,rr=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,or=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,ir=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,ar=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function sr(e){if("string"!=typeof e)throw new Jn(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return Zn[t]?"#"+Zn[t]:e}(e);if(t.match(Qn))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(er)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(tr))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(nr)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var o=rr.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=or.exec(t.substring(0,50));if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])>1?parseFloat(""+i[4])/100:parseFloat(""+i[4])};var a=ir.exec(t);if(a){var s="rgb("+Vn(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",c=rr.exec(s);if(!c)throw new Jn(4,t,s);return{red:parseInt(""+c[1],10),green:parseInt(""+c[2],10),blue:parseInt(""+c[3],10)}}var u=ar.exec(t.substring(0,50));if(u){var f="rgb("+Vn(parseInt(""+u[1],10),parseInt(""+u[2],10)/100,parseInt(""+u[3],10)/100)+")",l=rr.exec(f);if(!l)throw new Jn(4,t,f);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10),alpha:parseFloat(""+u[4])>1?parseFloat(""+u[4])/100:parseFloat(""+u[4])}}throw new Jn(5)}function cr(e){if("transparent"===e)return 0;var t=sr(e),n=Object.keys(t).map((function(e){var n=t[e]/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)})),r=n[0],o=n[1],i=n[2];return parseFloat((.2126*r+.7152*o+.0722*i).toFixed(3))}function ur(e,t){var n=cr(e),r=cr(t);return parseFloat((n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)).toFixed(2))}var fr={httpRequest:function(e){return new Promise((t,n)=>{try{const r=e.method||"GET",o=new XMLHttpRequest;o.open(r,e.url,!0),e.headers&&Object.keys(e.headers).forEach(t=>{o.setRequestHeader(t,e.headers[t])}),o.onload=()=>{o.status>=200&&o.status<300?t(o):n(o)},o.onerror=()=>n(o.statusText),o.send(e.body)}catch(e){n(e)}})}};var lr={fetchAppInstance:function(e,t){return fr.httpRequest({url:`${e}/v1/widget-instances/${t}`,method:"GET"})},sendAppOutputData:function(e,t,n){return fr.httpRequest({url:`${e}/v1/widget-instances/${t}/output-data`,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({body:n})})}};const pr="SEND_USER_DATA_FAILED",dr="SEND_USER_DATA_SUCCESS";!function(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=Fe),void 0===e.release){var t=Object(f.f)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}!function(e,t){!0===t.debug&&y.enable();var n=w(),r=new e(t);n.bindClient(r)}(ue,e)}({dsn:"https://0674595a1ef144e9ae26bfb367cd8a6a@sentry.io/5169493",environment:"production"}),qn.init({clientToken:"pub2ece98c7a15d8774b4047f484357be12",site:"datadoghq.com",forwardErrorsToLogs:!0,sampleRate:100});class hr extends Error{constructor(e){super(e),this.name="AdaWidgetSDKError"}}function vr(e){const t={};for(const[n,r]of e.entries())n.match(/^ada-.+/)&&(t[n.replace(/^ada-/,"")]=r);return t}function gr(e,t){e.parent.postMessage(JSON.stringify({instanceId:t,message:"POST_WIDGET_INACTIVE"}),"*")}async function yr(e){let t;try{t=JSON.parse(e.data)}catch(e){return}"ADA_CLOSE_WIDGET_EVENT"===t.message&&this.closerHandler&&await this.closerHandler()}function mr(e){e.listenerAdded||(e.window.addEventListener("message",yr.bind(e)),e.listenerAdded=!0)}t.default=class{constructor(e,t){this.appId=e,this.window=t||window,this.parsedParams={},this.listenerAdded=!1}init(e){const t=new URLSearchParams(this.window.location.search);if(this.parsedParams=vr(t),this.widgetIsActive=!1,this.widgetInputs={},this.metaData={},!this.parsedParams.apiUrl||!this.parsedParams["instance-id"])throw new hr("ada-apiurl or ada-instance-id not set.");if(lr.fetchAppInstance(this.parsedParams.apiUrl,this.parsedParams["instance-id"]).then(t=>{const{widget_inputs:n,...r}={...JSON.parse(t.response)},o=Boolean(this.window.matchMedia&&this.window.matchMedia("(prefers-color-scheme: dark)").matches),i="dark"===r.theme||"auto"===r.theme&&o;this.metaData={brandColour:r.brand_colour,darkMode:i,language:r.language,platform:r.platform,isRTL:r.is_rtl},this.widgetInputs=n,this.widgetIsActive=!0,qn.logger.info("App initialization success.",{appId:this.appId,metaData:this.metaData}),e({type:"WIDGET_INITIALIZED",metaData:this.metaData,widgetActive:this.widgetIsActive,widgetInputs:this.widgetInputs})}).catch(t=>{404!==t.status&&le(t),qn.logger.info("App initialization failed.",{appId:this.appId,metaData:this.metaData,error:t}),gr(this.window,this.parsedParams["instance-id"]),e({type:"WIDGET_INITIALIZATION_FAILED",error:t})}),"function"!=typeof e)throw new hr("callback must be a function")}sendUserData(e,t){if("function"!=typeof t)throw new hr("callback must be a function");if(this.widgetIsActive)return lr.sendAppOutputData(this.parsedParams.apiUrl,this.parsedParams["instance-id"],e).then(e=>{gr(this.window,this.parsedParams["instance-id"]),t({type:dr}),this.widgetIsActive=!1}).catch(e=>{le(e),t({type:pr,error:e})});t({type:pr,error:new hr("Widget is not in active state")})}setContainerHeight(e){this.window.parent.postMessage(JSON.stringify({contentMaxHeight:e,instanceId:this.parsedParams["instance-id"],message:"POST_CONTENT_HEIGHT"}),"*")}setWidgetClose(){this.window.parent.postMessage(JSON.stringify({instanceId:this.parsedParams["instance-id"],message:"POST_WIDGET_CLOSE"}),"*")}setWidgetCloseHandler(e){if("function"!=typeof e)throw new hr("callback must be a function");this.closerHandler=async()=>{let t;try{t=await e()}catch(e){console.warn(e)}!1!==t&&this.setWidgetClose()},mr(this),this.window.parent.postMessage(JSON.stringify({instanceId:this.parsedParams["instance-id"],message:"OVERRIDE_POST_WIDGET_CLOSE"}),"*")}getContrastingBrandTextColour(e){const{brandColour:t}=this.metaData;if(t){if(ur(e,t)>=4.5)return t}return ur(e,"#000000")>=4.5?"#000000":"#FFFFFF"}}}]).default}));